@page "/ecb-violations"
@attribute [Authorize]

<PageTitle>EcbViolations</PageTitle>
<RadzenStack>
    <RadzenRow AlignItems="AlignItems.Center">
        <RadzenColumn Size="12" SizeMD="6">
            <RadzenText Text="EcbViolations" TextStyle="TextStyle.H3" TagName="TagName.H1" style="margin: 0" />
        </RadzenColumn>
        <RadzenColumn Size="12" SizeMD="6">
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
                <RadzenSplitButton Icon="get_app" Text="Export" Click="@ExportClick" Variant="Variant.Flat" Shade="Shade.Lighter">
                    <RadzenSplitButtonItem Text="Excel" Value="xlsx" />
                    <RadzenSplitButtonItem Text="CSV" Value="csv" />
                </RadzenSplitButton>
                <RadzenButton Icon="add_circle_outline" Text="Add" Click="@AddButtonClick" Variant="Variant.Flat" />
            </RadzenStack>
        </RadzenColumn>
    </RadzenRow>
    <RadzenTextBox Placeholder="Search ..." style="display: block; width: 100%" @oninput="@Search" aria-label="Search by all string columns" />
    <RadzenRow>
      <RadzenColumn SizeMD=6>
     <RadzenCard style="height: 100%">
        <RadzenDataGrid @ref="grid0" ColumnWidth="200px"   AllowFiltering="true" FilterMode="FilterMode.Advanced" AllowPaging="true" AllowSorting="true" ShowPagingSummary="true" PageSizeOptions=@(new int[]{5, 10, 20, 30})
            Data="@(ecbViolations)" TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" RowSelect="@EditRow">
            <Columns>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Id" Title="Id">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="IsnDobBisExtract" Title="Isn Dob Bis Extract">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="EcbViolationNumber" Title="Ecb Violation Number">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="EcbViolationStatus" Title="Ecb Violation Status">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Bin" Title="Bin">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Boro" Title="Boro">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Block" Title="Block">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Lot" Title="Lot">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="HearingDate" Title="Hearing Date">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="HearingTime" Title="Hearing Time">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="ServedDate" Title="Served Date">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="IssueDate" Title="Issue Date">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="Severity" Title="Severity">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="ViolationType" Title="Violation Type">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="RespondentName" Title="Respondent Name">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="RespondentHouseNumber" Title="Respondent House Number">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="RespondentStreet" Title="Respondent Street">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="RespondentCity" Title="Respondent City">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="RespondentZip" Title="Respondent Zip">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="ViolationDescription" Title="Violation Description">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="PenalityImposed" Title="Penality Imposed">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="AmountPaid" Title="Amount Paid">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="BalanceDue" Title="Balance Due">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="InfractionCode1" Title="Infraction Code1">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="SectionLawDescription1" Title="Section Law Description1">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="AggravatedLevel" Title="Aggravated Level">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="HearingStatus" Title="Hearing Status">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Property="CertificationStatus" Title="Certification Status">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Filterable="false" Sortable="false" Width="70px" TextAlign="TextAlign.Center">
                    <Template Context="ecbViolation">

                        <RadzenButton ButtonStyle="ButtonStyle.Danger" Icon="delete" Size="ButtonSize.Medium"
                            Shade="Shade.Lighter" Variant="Variant.Flat"
                            Click=@(args => GridDeleteButtonClick(args, ecbViolation)) @onclick:stopPropagation="true" />
                    </Template>
                </RadzenDataGridColumn>
            </Columns>

        </RadzenDataGrid>
    </RadzenCard>

    </RadzenColumn>
        <RadzenColumn SizeMD=6>
        <RadzenCard style="height: 100%;margin-top:0px;">
            <RadzenAlert Shade="Shade.Lighter" Variant="Variant.Flat" Size="AlertSize.Small" AlertStyle="AlertStyle.Danger" Visible="@errorVisible">Cannot save EcbViolation</RadzenAlert>
            <RadzenTemplateForm TItem="KonXProWebApp.Models.db_9f8bee_konxdev.EcbViolation" Data="@(ecbViolation)" Visible="@(ecbViolation != null)" Submit="@FormSubmit">
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Isn Dob Bis Extract" Component="IsnDobBisExtract" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.IsnDobBisExtract)" Name="IsnDobBisExtract" />
                        <RadzenRequiredValidator Component="IsnDobBisExtract" Text="IsnDobBisExtract is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Ecb Violation Number" Component="EcbViolationNumber" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.EcbViolationNumber)" Name="EcbViolationNumber" />
                        <RadzenRequiredValidator Component="EcbViolationNumber" Text="EcbViolationNumber is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Ecb Violation Status" Component="EcbViolationStatus" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.EcbViolationStatus)" Name="EcbViolationStatus" />
                        <RadzenRequiredValidator Component="EcbViolationStatus" Text="EcbViolationStatus is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Bin" Component="Bin" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.Bin)" Name="Bin" />
                        <RadzenRequiredValidator Component="Bin" Text="Bin is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Boro" Component="Boro" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenNumeric style="display: block; width: 100%" @bind-Value="@(ecbViolation.Boro)" Name="Boro" />
                        <RadzenRequiredValidator Component="Boro" Text="Boro is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Block" Component="Block" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.Block)" Name="Block" />
                        <RadzenRequiredValidator Component="Block" Text="Block is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Lot" Component="Lot" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.Lot)" Name="Lot" />
                        <RadzenRequiredValidator Component="Lot" Text="Lot is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Hearing Date" Component="HearingDate" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenDatePicker DateFormat="MM/dd/yyyy" style="display: block; width: 100%" @bind-Value="@(ecbViolation.HearingDate)" Name="HearingDate" />
                        <RadzenRequiredValidator Component="HearingDate" Text="HearingDate is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Hearing Time" Component="HearingTime" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.HearingTime)" Name="HearingTime" />
                        <RadzenRequiredValidator Component="HearingTime" Text="HearingTime is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Served Date" Component="ServedDate" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenDatePicker DateFormat="MM/dd/yyyy" style="display: block; width: 100%" @bind-Value="@(ecbViolation.ServedDate)" Name="ServedDate" />
                        <RadzenRequiredValidator Component="ServedDate" Text="ServedDate is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Issue Date" Component="IssueDate" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenDatePicker DateFormat="MM/dd/yyyy" style="display: block; width: 100%" @bind-Value="@(ecbViolation.IssueDate)" Name="IssueDate" />
                        <RadzenRequiredValidator Component="IssueDate" Text="IssueDate is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Severity" Component="Severity" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.Severity)" Name="Severity" />
                        <RadzenRequiredValidator Component="Severity" Text="Severity is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Violation Type" Component="ViolationType" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.ViolationType)" Name="ViolationType" />
                        <RadzenRequiredValidator Component="ViolationType" Text="ViolationType is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Respondent Name" Component="RespondentName" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.RespondentName)" Name="RespondentName" />
                        <RadzenRequiredValidator Component="RespondentName" Text="RespondentName is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Respondent House Number" Component="RespondentHouseNumber" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.RespondentHouseNumber)" Name="RespondentHouseNumber" />
                        <RadzenRequiredValidator Component="RespondentHouseNumber" Text="RespondentHouseNumber is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Respondent Street" Component="RespondentStreet" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.RespondentStreet)" Name="RespondentStreet" />
                        <RadzenRequiredValidator Component="RespondentStreet" Text="RespondentStreet is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Respondent City" Component="RespondentCity" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.RespondentCity)" Name="RespondentCity" />
                        <RadzenRequiredValidator Component="RespondentCity" Text="RespondentCity is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Respondent Zip" Component="RespondentZip" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.RespondentZip)" Name="RespondentZip" />
                        <RadzenRequiredValidator Component="RespondentZip" Text="RespondentZip is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Violation Description" Component="ViolationDescription" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.ViolationDescription)" Name="ViolationDescription" />
                        <RadzenRequiredValidator Component="ViolationDescription" Text="ViolationDescription is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Penality Imposed" Component="PenalityImposed" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenNumeric style="display: block; width: 100%" @bind-Value="@(ecbViolation.PenalityImposed)" Name="PenalityImposed" />
                        <RadzenRequiredValidator Component="PenalityImposed" Text="PenalityImposed is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Amount Paid" Component="AmountPaid" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenNumeric style="display: block; width: 100%" @bind-Value="@(ecbViolation.AmountPaid)" Name="AmountPaid" />
                        <RadzenRequiredValidator Component="AmountPaid" Text="AmountPaid is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Balance Due" Component="BalanceDue" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenNumeric style="display: block; width: 100%" @bind-Value="@(ecbViolation.BalanceDue)" Name="BalanceDue" />
                        <RadzenRequiredValidator Component="BalanceDue" Text="BalanceDue is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Infraction Code1" Component="InfractionCode1" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.InfractionCode1)" Name="InfractionCode1" />
                        <RadzenRequiredValidator Component="InfractionCode1" Text="InfractionCode1 is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Section Law Description1" Component="SectionLawDescription1" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.SectionLawDescription1)" Name="SectionLawDescription1" />
                        <RadzenRequiredValidator Component="SectionLawDescription1" Text="SectionLawDescription1 is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Aggravated Level" Component="AggravatedLevel" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.AggravatedLevel)" Name="AggravatedLevel" />
                        <RadzenRequiredValidator Component="AggravatedLevel" Text="AggravatedLevel is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Hearing Status" Component="HearingStatus" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.HearingStatus)" Name="HearingStatus" />
                        <RadzenRequiredValidator Component="HearingStatus" Text="HearingStatus is required" />
                    </RadzenColumn>
                </RadzenRow>
                <RadzenRow style="margin-bottom: 1rem">
                    <RadzenColumn SizeMD="3">
                        <RadzenLabel Text="Certification Status" Component="CertificationStatus" style="width: 100%" />
                    </RadzenColumn>
                    <RadzenColumn SizeMD="9">
                        <RadzenTextBox style="display: block; width: 100%" @bind-Value="@(ecbViolation.CertificationStatus)" Name="CertificationStatus" />
                    </RadzenColumn>
                </RadzenRow>
              <RadzenStack  Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
                        <RadzenButton ButtonStyle="ButtonStyle.Primary" ButtonType="ButtonType.Submit" Icon="save" Text="Save" Variant="Variant.Flat" />
                        <RadzenButton ButtonStyle="ButtonStyle.Light" Text="Cancel" Variant="Variant.Flat" Click="@CancelButtonClick" Visible=false />
              </RadzenStack>
            </RadzenTemplateForm>
        </RadzenCard>
        </RadzenColumn>  </RadzenRow>
</RadzenStack>
